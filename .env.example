# ═══════════════════════════════════════════════════════════════════════════════
# LUVEX.TECH - WordPress Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════════
#
# SETUP: Copy this file to .env and fill in your secure values
#
#   cp .env.example .env
#   nano .env  # Edit with your secure passwords
#   chmod 600 .env  # Restrict permissions
#
# SECURITY: .env is in .gitignore and must NEVER be committed to git!
# ═══════════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────────
# MySQL Database Configuration
# ───────────────────────────────────────────────────────────────────────────────

# MySQL Root Password (CRITICAL - Use strong password!)
# Generate with: openssl rand -base64 32
MYSQL_ROOT_PASSWORD=CHANGE_ME_STRONG_ROOT_PASSWORD_HERE

# WordPress Database Name
MYSQL_DATABASE=luvex_production

# WordPress Database User
MYSQL_USER=wordpress

# WordPress Database Password (CRITICAL - Use strong password!)
# Generate with: openssl rand -base64 32
# IMPORTANT: Must be DIFFERENT from MYSQL_ROOT_PASSWORD!
MYSQL_PASSWORD=CHANGE_ME_STRONG_USER_PASSWORD_HERE

# ───────────────────────────────────────────────────────────────────────────────
# WordPress Configuration
# ───────────────────────────────────────────────────────────────────────────────

# WordPress Database Table Prefix
# Default: wp_ (only change if you have a specific reason)
WP_TABLE_PREFIX=wp_

# WordPress Debug Mode
# Set to 'true' for development, 'false' for production
WP_DEBUG=false

# ═══════════════════════════════════════════════════════════════════════════════
# PASSWORD GENERATION GUIDE
# ═══════════════════════════════════════════════════════════════════════════════
#
# Generate secure random passwords using one of these methods:
#
# Method 1: OpenSSL (recommended, available on most systems)
#   openssl rand -base64 32
#
# Method 2: pwgen (if installed)
#   pwgen -s 32 1
#
# Method 3: /dev/urandom (Linux/macOS)
#   tr -dc 'A-Za-z0-9!@#$%^&*_+=' < /dev/urandom | head -c 32; echo
#
# Method 4: Python (if installed)
#   python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#
# Method 5: Online (use reputable sources only!)
#   https://passwordsgenerator.net/ (select 32 characters, all options)
#
# SECURITY REQUIREMENTS:
# - Minimum 32 characters
# - Mix of uppercase, lowercase, numbers, special characters
# - Different passwords for MYSQL_ROOT_PASSWORD and MYSQL_PASSWORD
# - Never reuse passwords from other services
# - Store in password manager
#
# ═══════════════════════════════════════════════════════════════════════════════
# DEPLOYMENT CHECKLIST
# ═══════════════════════════════════════════════════════════════════════════════
#
# Before deploying to production:
#
# [x] 1. Copy .env.example to .env
#        cp .env.example .env
#
# [ ] 2. Generate and set secure passwords
#        MYSQL_ROOT_PASSWORD (openssl rand -base64 32)
#        MYSQL_PASSWORD (openssl rand -base64 32)
#
# [ ] 3. Verify database name matches your backup
#        MYSQL_DATABASE=luvex_production
#
# [ ] 4. Set correct file permissions
#        chmod 600 .env
#
# [ ] 5. Verify .env is in .gitignore
#        cat .gitignore | grep .env
#
# [ ] 6. Backup .env to secure location
#        cp .env /secure/backup/location/.env.backup
#
# [ ] 7. Never commit .env to version control!
#
# ═══════════════════════════════════════════════════════════════════════════════
# MIGRATION FROM BITNAMI WORDPRESS
# ═══════════════════════════════════════════════════════════════════════════════
#
# If migrating from Bitnami WordPress installation:
#
# 1. Extract database credentials from old wp-config.php:
#    - Look for DB_NAME, DB_USER, DB_PASSWORD
#    - Set MYSQL_DATABASE to match DB_NAME
#    - Generate NEW secure passwords (more secure than copying old ones)
#
# 2. After database restore, update wp-config.php with new credentials:
#    docker exec luvex-wordpress wp config set DB_PASSWORD 'new_password'
#
# 3. WordPress Salts & Keys:
#    - Generate new: https://api.wordpress.org/secret-key/1.1/salt/
#    - Add to wp-config.php after restore
#
# 4. Site URL updates (if domain changed):
#    docker exec luvex-wordpress wp search-replace 'old-domain.com' 'luvex.tech'
#
# See MIGRATION.md for complete step-by-step migration guide.
#
# ═══════════════════════════════════════════════════════════════════════════════
# SECURITY BEST PRACTICES
# ═══════════════════════════════════════════════════════════════════════════════
#
# 1. PASSWORDS:
#    - Use DIFFERENT passwords for root and user accounts
#    - Minimum 32 characters length
#    - Never reuse passwords from other services
#    - Store in password manager (KeePass, 1Password, Bitwarden)
#    - Rotate passwords periodically (e.g., every 90 days)
#
# 2. FILE PERMISSIONS:
#    - .env must be chmod 600 (read/write owner only)
#    - Never world-readable
#    - Owner should be deployment user, not root
#
# 3. BACKUP:
#    - Backup .env to secure location
#    - Include in disaster recovery documentation
#    - Encrypt backups containing credentials
#
# 4. ACCESS CONTROL:
#    - Limit who has access to .env file
#    - Use SSH keys for server access
#    - Disable root SSH login
#    - Use sudo for privileged operations
#
# 5. MONITORING:
#    - Monitor failed login attempts
#    - Set up alerts for database access anomalies
#    - Regular security audits
#
# ═══════════════════════════════════════════════════════════════════════════════
# TROUBLESHOOTING
# ═══════════════════════════════════════════════════════════════════════════════
#
# "Error establishing database connection":
# - Verify MYSQL_USER and MYSQL_PASSWORD match
# - Check MYSQL_DATABASE name is correct
# - Wait for MySQL container to fully start (30-60 seconds)
#
# "Access denied for user":
# - Verify passwords don't contain special shell characters that need escaping
# - Check .env file has no extra spaces or quotes
# - Recreate database user if needed
#
# For more help, see INFRASTRUCTURE.md
#
# ═══════════════════════════════════════════════════════════════════════════════
